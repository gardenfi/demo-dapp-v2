import{BaseError as u}from"./index72.js";import{createCursor as i}from"./index99.js";import{hexToBytes as p}from"./index56.js";import{bytesToHex as g}from"./index42.js";function l(n,e="hex"){const r=s(n),t=i(new Uint8Array(r.length));return r.encode(t),e==="hex"?g(t.bytes):t.bytes}function s(n){return Array.isArray(n)?f(n.map(e=>s(e))):y(n)}function f(n){const e=n.reduce((t,h)=>t+h.length,0),r=o(e);return{length:e<=55?1+e:1+r+e,encode(t){e<=55?t.pushByte(192+e):(t.pushByte(247+r),r===1?t.pushUint8(e):r===2?t.pushUint16(e):r===3?t.pushUint24(e):t.pushUint32(e));for(const{encode:h}of n)h(t)}}}function y(n){const e=typeof n=="string"?p(n):n,r=o(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(t){e.length===1&&e[0]<128?t.pushBytes(e):e.length<=55?(t.pushByte(128+e.length),t.pushBytes(e)):(t.pushByte(183+r),r===1?t.pushUint8(e.length):r===2?t.pushUint16(e.length):r===3?t.pushUint24(e.length):t.pushUint32(e.length),t.pushBytes(e))}}}function o(n){if(n<2**8)return 1;if(n<2**16)return 2;if(n<2**24)return 3;if(n<2**32)return 4;throw new u("Length is too large.")}export{l as toRlp};
